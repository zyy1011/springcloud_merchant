!function(e){var t=window.webpackJsonp;window.webpackJsonp=function(n,i,a){for(var u,c,s,l=0,d=[];l<n.length;l++)c=n[l],r[c]&&d.push(r[c][0]),r[c]=0;for(u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u]);for(t&&t(n,i,a);d.length;)d.shift()();if(a)for(l=0;l<a.length;l++)s=o(o.s=a[l]);return s};var n={},r={110:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=r[e];if(0===t)return new Promise(function(e){e()});if(t)return t[2];var n=new Promise(function(n,o){t=r[e]=[n,o]});t[2]=n;var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,o.nc&&a.setAttribute("nonce",o.nc),a.src=o.p+"async_chunk/"+e+"."+{0:"6588eac",1:"a069d3b",2:"5240304",3:"ee64782",4:"91acc2e",5:"ece9200",6:"b0c3483",7:"e6811bd"}[e]+".min.js";var u=setTimeout(c,12e4);function c(){a.onerror=a.onload=null,clearTimeout(u);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}return a.onerror=a.onload=c,i.appendChild(a),n},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//shadow.elemecdn.com/faas/h5/",o.oe=function(e){throw console.error(e),e},o(o.s=949)}({1:function(e,t,n){"use strict";n.d(t,"i",function(){return m}),n.d(t,"k",function(){return w}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return P}),n.d(t,"m",function(){return O}),n.d(t,"c",function(){return S}),n.d(t,"h",function(){return j}),n.d(t,"j",function(){return I}),n.d(t,"n",function(){return k}),n.d(t,"q",function(){return E});var r=n(125),o=n.n(r),i=n(37),a=n(435),u=n(962),c=(n(963),n(964)),s=(n(965),n(966)),l=n(967),d=n(968),f=n(969),p=n(236),g=n.n(p);n.d(t,"a",function(){return a.a}),n.d(t,"o",function(){return i.a}),n.d(t,"d",function(){return u.a}),n.d(t,"l",function(){return c.a}),n.d(t,"p",function(){return s.a}),n.d(t,"b",function(){return l.a}),n.d(t,"g",function(){return d.a}),n.d(t,"r",function(){return f.a});var h=navigator.userAgent,m=/Eleme/i.test(h),b="unchecked",v=new g.a,y=!!(v.isAliMiniApp||sessionStorage.getItem("isAliMiniApp")||window.__sfc__||/AliApp\((TB|TM).+Windmill/i.test(h)||/AliApp\((AP|KB).+MiniProgram/i.test(h));v.isAliMiniApp&&sessionStorage.setItem("isAliMiniApp",y);var w=Object.freeze({isEleme:m,isAlipay:/alipay/i.test(h)&&!y,isKb:/KoubeiClient/.test(h),isAliMiniApp:y,isTaobao:/AliApp\(TB/.test(h)&&!y,isOpensite:/opensite/.test(document.domain),isXiaomi:/xiaomi/i.test(h),isWechat:/micromessenger/i.test(h),isQQ:/\sQQ\/\d/.test(h),isIOS:/iPhone|iPad|iPod|iOS/i.test(h),isAndroid:/Android/i.test(h),isIPhoneX:function(){if(!/iPhone/i.test(h))return!1;var e=window.screen||{};return 812===e.height&&375===e.width}(),isUC:/UCBrowser/.test(h),isX5:/tbs/i.test(h),isWechatMp:function(){return new Promise(function(e,t){"unchecked"===b?window.wx?wx.ready(function(){"miniprogram"===window.__wxjs_environment?e(b=!0):t(b=!1)}):t():b?e():t()})},isWifikey:/wkbrowser|WiFiKey|ZeusPro/i.test(h),isOpenChannel:/alipay/i.test(h)||/wkbrowser|WiFiKey|ZeusPro/i.test(h),isToutiao:/NewsArticle/i.test(h),isSamsung:/Samsung/i.test(h),isOppo:/OPPO|PA[C|A][T|M]00/i.test(h),isDingding:/AliApp\(DingTalk/i.test(h),isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(h),isAlipayMp:/AlipayClient.+MiniProgram/i.test(h)}),_=m&&o.a.compareVersion("7.12.0"),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return m?"eleme://login":"/login#redirect="+encodeURIComponent(e)},S=((location.host.match(/h5\.faas\.(\w+)\./)||[])[1],/\.cn$/.test(location.host)?"eleme.cn":"ele.me"),A=function(e){var t=new Date;t.setFullYear(t.getFullYear()+1),Object.keys(e).forEach(function(n){e[n]&&(document.cookie=n+"="+e[n]+"; expires="+t.toUTCString()+"; Domain=."+S+"; Path=/")})},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=g()(),n=t.ssi,r=t.uid;if(!n)return e?Promise.resolve():void 0;var o={SID:n,USERID:r};if(e)return i.a.userId?!r||r&&""+i.a.userId===r?Promise.resolve():Object(a.a)("/eus/login/logout",{method:"POST"}).then(function(){A(o),i.a.setUserId(r)}):(A(o),i.a.setUserId(r),Promise.resolve());A(o)};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=localStorage.getItem("SUB_CHANNEL");return e.some(function(e){return w[e]||e===t})}function I(){var e=localStorage.getItem("SUB_CHANNEL");return w.isAlipay||/^opensite:/.test(e)&&!/guangfa/.test(e)}var k=function(e){return(e.A?e.A:"a2ogi")+"."+(e.B?e.B:"0")+"."+(e.C?e.C:"0")+"."+(e.D?"d"+e.D:"0")},E=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}},125:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(2)),a=r(n(3)),u=r(n(4)),c=r(n(5)),s=r(n(6)),l=r(n(7)),d=r(n(8));t.default={getLocation:i.default,getGeohash:o.default,compareVersion:a.default,paramToString:u.default,resolveFetch:c.default,checkoutByApp:s.default,getUrl:l.default,expiredLocalStorage:d.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),r=function(){var e=window.UParams?window.UParams():{},t=e.geohash,n=void 0===t?"":t,r=e.latitude,o=void 0===r?"":r,i=e.longitude,a=void 0===i?"":i;if(n)try{window.Geohash.decode(n)}catch(e){n=""}if(!n&&o&&a)try{n=window.Geohash.encode(o,a)}catch(e){n=""}return n},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null,r=function(){clearInterval(n)};return new Promise(function(o,i){if(!window.hybridAPI)return i();var a=function(){window.hybridAPI.getGlobalGeohash().then(function(e){e&&(r(),o(e))})};n=setInterval(a,t),a(),setTimeout(function(){r(),i()},e)})},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return navigator.geolocation?new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),t(window.Geohash.encode(e.coords.latitude,e.coords.longitude))},n,{timeout:e,maximumAge:6e5})}):Promise.reject()},a=function(){if(!window.ap)return Promise.reject();return(ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:n?"iOS-ele-position":"Android-ele-position"})).then(function(e){return window.Geohash.encode(e.latitude,e.longitude)})},u=function(){return window.wk?new Promise(function(e,t){wk.ready(function(){wk.getLocation({type:"wgs84",success:function(t){e(window.Geohash.encode(t.latitude,t.longitude))},fail:t})}),wk.error(t)}):Promise.reject()},c=function(){return window.dd?new Promise(function(e,t){dd.ready(function(){dd.device.geolocation.get({targetAccuracy:200,coordinate:0,withReGeocode:!1,useCache:!0,onSuccess:function(t){e(window.Geohash.encode(t.latitude,t.longitude))},onFail:t})}),dd.error(t)}):Promise.reject()},s=function(e,t){return o(2*e/3).catch(function(){return t?Promise.reject():i(1*e/3)})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r();if(n)return Promise.resolve(n);return/Eleme/i.test(navigator.userAgent)?s(e,t):/AlipayClient/.test(navigator.userAgent)?a():/wkbrowser|WiFiKey|ZeusPro/i.test(navigator.userAgent)&&window.wk?u():/AliApp\(DingTalk/.test(navigator.userAgent)&&window.dd?c():i(e)};l.getParamHash=r,l.useApp=o,l.useGeoAPI=i,l.useAlipay=a,l.useWifikey=u,l.useDingding=c,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),a=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return window.hybridAPI?new Promise(function(t,n){(0,o.default)("7.26")?hybridAPI.getGlobalGeohash().then(function(e){var n=Geohash.decode(e),o=r(n,2),i=o[0],a=o[1];t({latitude:i,longitude:a})}):hybridAPI.getSyncLocation().then(function(e){t({latitude:e.lat,longitude:e.lng})}),setTimeout(function(){n({name:"`getSyncLocation` method timeout"})},e)}):Promise.reject({name:"HYBRIDAPI_NOT_DEFINED"})}(2*e/3).catch(function(n){t?Promise.reject(n):getNavigatorHash(1*e/3)})};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return/Eleme/i.test(navigator.userAgent)?a(e,t):/AlipayClient/.test(navigator.userAgent)?window.ap?ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:i?"iOS-ele-position":"Android-ele-position"}):Promise.reject():/wkbrowser|WiFiKey|ZeusPro/i.test(navigator.userAgent)&&window.wk?window.wk?new Promise(function(e,t){wk.ready(function(){wk.getLocation({type:"wgs84",success:e,fail:t})}),wk.error(t)}):Promise.reject():/AliApp\(DingTalk/.test(navigator.userAgent)&&window.dd?window.dd?new Promise(function(e,t){dd.ready(function(){dd.device.geolocation.get({targetAccuracy:200,coordinate:0,withReGeocode:!1,useCache:!0,onSuccess:e,onFail:t})}),dd.error(t)}):Promise.reject():function(e){return navigator.geolocation?new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),t(e.coords)},n,{timeout:e,maximumAge:6e5}),setTimeout(n,e)}):Promise.reject()}(e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(!t&&!(t=(window.navigator.userAgent.match(/Eleme\/([\d|\.]+)/i)||[])[1]))return!1;e=e.split("."),t=t.split(".");var n=void 0;return e.forEach(function(e,r){var o=t[r];if(void 0===o&&(o=0),void 0===n){var i=Number(e)-Number(o);0!==i&&(n=i>0)}}),!!n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Object.prototype.toString.call(e).slice(8,-1)};t.default=function(e){if("Object"!==n(e))throw"param 必须是一个 object";var t=[];return Object.keys(e).forEach(function(r){var o=e[r];Array.isArray(o)?t=t.concat(o.map(function(e){return encodeURIComponent(r)+"[]="+encodeURIComponent(e)})):"Object"===n(o)?(o=JSON.stringify(o),t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))):"Undefined"!==n(o)&&"Null"!==n(o)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}),t.join("&")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(204===e.status)return Promise.resolve.bind(Promise);var t=e.json();return e.status>=200&&e.status<300?t:t.then(Promise.reject.bind(Promise))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=function(e){var t=e.id,n=e.entities,o=(e.callback,{clear_cart:!0});(0,r.default)("7.2")?o.add_foods=n.map(function(e){return{id:e.id,quantity:e.quantity,specs:e.specs.map(function(e){return e.value})}}):o.add_foods=n.map(function(e){var t=e.id,n=e.sku_id,r=e.quantity,o=e.specs,i=e.attrs;return{id:t,sku_id:n||"",quantity:r,specs:o,attrs:i}}),location.href="eleme://checkout?restaurant_id="+t+"&cart_operations="+JSON.stringify(o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i="";if("{}"!==JSON.stringify(t))for(var a in i="hash"===r?"#":"?",t){var u=t[a];i+="object"===(void 0===u?"undefined":n(u))&&u?encodeURIComponent(a)+"="+encodeURIComponent(JSON.stringify(u))+"&":encodeURIComponent(a)+"="+encodeURIComponent(u)+"&"}return i=""+e+i.replace(/&$/,""),/Eleme/.test(navigator.userAgent)&&(i="eleme://web?url="+encodeURIComponent(i)+"&animation_type="+o),i}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e){var t=e.key,n=e.value,r=e.expiredDate,o=e.expiredDay,i={value:n,expired:""};return r&&(i.expired=r),o&&(i.expired=Date.now()+60*o*60*1e3),localStorage.setItem(t,JSON.stringify(i)),{key:t,value:JSON.stringify(i)}},get:function(e){var t=void 0;try{t=JSON.parse(localStorage.getItem(e))}catch(e){throw e}if(!t)throw"The key: "+e+" you want are not found in localStorage";var n=Date.now()>new Date(t.expired).getTime();return{value:t.value,expired:n}}}}])})},235:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},236:function(e,t,n){!function(t){"object"==typeof e&&e.exports?t(function(t,n,r){var o;void 0===r&&(r=n,n=[]),o=[],e.exports=r.apply(e.exports,o)||e.exports}):"function"===String("function")&&n(959)?t(n(960)):t(function(e,t,n){void 0===n&&(n=t,t=[]);try{"object"==typeof execScript&&execScript("var "+e)}catch(e){}window[e]={};for(var r=[],o=0;o<t.length;o++)r[o]=window[t[o]];window[e]=n.apply(window[e],r)||window[e]})}(function(e){"use strict";e("UParams",function(){var e=RegExp.prototype.test.bind(/^(?:toString|valueOf)$/),t=function(n){if(!(this instanceof t))return new t(n);n||(n=location.search+location.hash);var r=this;switch(typeof n){case"object":for(var o in n)e(o)||(r[o]=n[o]+"");break;case"string":n.replace(/([^=?#&]*)=([^?#&]*)/g,function(t,n,o){e(n)||(r[decodeURIComponent(n)]=decodeURIComponent(o))})}};return Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}}),t})})},35:function(e,t,n){"use strict";var r=n(1),o=n(36),i=r.o.get("location")||{},a={headers:{"content-type":"application/json; charset=utf-8"},credentials:"include",method:"POST"},u=/^h5-vip\./.test(document.domain)?"//openapi-vip.ele.me/v2":"//openapi.ele.me/v2",c={m:1,f:2};t.a={userId:function(){return Object(r.a)("/eus/v1/current_user?info_raw={}",{credentials:"include"})},login:function(e,t){var n=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.getDeviceId().catch(function(){}).then(function(n){return Object(r.a)("/eus/login/alipay_login",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({alipay_device_id:n,alipay_code:e,auth_type:t},u,i))}))}).then(function(t){return n.getAlipayUserInfo(e),n.userId().then(function(e){return r.o.setUserId(e),t}).catch(function(){return t})})},getAlipayCode:function(e,t){return o.a.getDeviceId().catch(function(){}).then(function(n){return Object(r.a)(u+"/koubei/oauthcode/",{method:"POST",headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify({scope:t,auth_code:e,alipay_device_id:n})})}).then(function(e){return e.data?e.data:Promise.reject(e)})},loginPassword:function(e,t,n){return o.a.getDeviceId().catch(function(){}).then(function(o){return Object(r.a)("/eus/login/alipay_login/by_password",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({alipay_device_id:o,alipay_code:e,auth_type:t},n,i))}))})},loginMobile:function(e,t,n){return o.a.getDeviceId().catch(function(){}).then(function(o){return Object(r.a)("/eus/login/alipay_login/by_mobile",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({alipay_device_id:o,alipay_code:e,auth_type:t},n,i))}))})},getCaptcha:function(e){return Object(r.a)("/eus/v3/captchas",babelHelpers.extends({},a,{body:JSON.stringify({captcha_str:e})}))},getMobileCode:function(e,t){return Object(r.a)("/eus/login/mobile_send_code",{headers:babelHelpers.extends({"content-type":"application/json; charset=utf-8"},t),credentials:"include",method:"POST",body:JSON.stringify(babelHelpers.extends({},e,i))})},getAlipayUserInfo:function(e){Object(r.a)(u+"/koubei/user_info/",babelHelpers.extends({},a,{body:JSON.stringify({alipay_code:e})})).then(function(e){var t=e.data,n=t.mobile,o=t.user_name,i=t.gender,a=0;i&&(a=c[i.toLowerCase()]),r.o.set("ali_user_info",{phone:n,name:o,sex:a})}).catch(function(){})},checkNewUser:function(){var e=o.a.store.get("code");e&&ap.getSessionData("userChecked").then(function(t){t.data.userChecked||Object(r.a)(u+"/koubei/alipay-user-check/",babelHelpers.extends({},a,{credentials:"omit",body:JSON.stringify({alipay_code:e})})).then(function(e){e.data&&ap.setSessionData({data:babelHelpers.defineProperty({},"userChecked",!0)})}).catch(function(){})})}}},36:function(e,t,n){"use strict";var r=n(1),o=JSON.stringify({loginTip:!1,orderTip:!1}),i=function(e,t){var n=function(e){return new Promise(function(t){setTimeout(t,e)})}(t).then(function(){return Promise.reject("timeout")});return Promise.race([e,n])};t.a={formatHiddenPhone:function(e){return e.slice(0,3)+"******"+e.slice(3)},getUrlPhone:function(){var e=UParams().mobile,t="";return e&&5===e.length&&(t=this.formatHiddenPhone(e)),t},store:{get data(){var e={};try{e=JSON.parse(localStorage.getItem("ALIPAY_META")||o)}catch(e){}return e},get:function(e){return this.data[e]},set:function(e,t){var n=this.data;n[e]=t,localStorage.setItem("ALIPAY_META",JSON.stringify(n))}},getDeviceId:function(){var e=this,t=new Promise(function(t,n){if(!r.k.isAlipay||!window.ap)throw new Error("not in alipay");var o=e.store.get("ALIPAY_DEVICE_ID");if(o)return t(o);window.ap.call("getClientInfo",function(r){var o=r["device.id"];return o?(e.store.set("ALIPAY_DEVICE_ID",o),t(o)):n()})});return i(t,1e3)},closeCoolLoading:function(){return r.k.isAlipay?ap.call("coolLoadingCtrl",{action:"close"}):Promise.resolve({})},getAliDid:function(){var e=new Promise(function(e,t){r.k.isAlipay||t("not_in_alipay"),window.ap||t("no_jsapi"),window.ap.call("getConfig",{configKeys:["did"]},function(n){var r=n.data.did;return r?e(r):t("no_did")})});return i(e,1e3)}}},37:function(e,t,n){"use strict";var r=n(433),o=n.n(r),i=function(){var e=void 0;try{e=JSON.parse(localStorage.getItem("STORE"))||{}}catch(t){e={}}return e},a={get:function(e){var t=i();return e?t[e]:t},set:function(e,t){var n=i();n[e]=t;try{localStorage.setItem("STORE",JSON.stringify(n))}catch(e){console.error(e)}return n},setLocation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=o.a.decode(e),r=babelHelpers.slicedToArray(n,2),i=r[0],a=r[1],u=parseInt(Date.now()/1e3);return this.set("location",{geohash:e,latitude:i,longitude:a,timestamp:u,locationName:t})},setUser:function(e){return this.set("user",e)},setUserId:function(e){return this.set("userId",e)},get location(){return this.get("location")},get user(){return this.get("user")},get userId(){return this.get("userId")}};t.a=Object.freeze(a)},433:function(e,t,n){var r=new function(){var e=Math.round,t=Math.max,n=Math.pow,r=Math.log,o="0123456789bcdefghjkmnpqrstuvwxyz",i=new RegExp("^["+o+"]+$"),a=function(){};a.prototype={minlat:-90,maxlat:90,minlng:-180,maxlng:180,halfLat:function(){return(this.minlat+this.maxlat)/2},halfLng:function(){return(this.minlng+this.maxlng)/2}},this.encode=function(e,r){if(e instanceof Array&&null==r&&(r=e[1],e=e[0]),r*=1,(e*=1)!=e)throw new Error("Geohash.encode: lat must be a Number");if(r!=r)throw new Error("Geohash.encode: lng must be a Number");for(var i,u=e.toString().length-e.toFixed().length-2,c=r.toString().length-e.toFixed().length-2,s=n(10,-t(u,c,0))/2,l=new a,d=[],f=180,p=!0,g=0,h=4;f>=s;)if(p?r>(i=l.halfLng())?(g|=1<<h,l.minlng=i):l.maxlng=i:e>(i=l.halfLat())?(g|=1<<h,l.minlat=i):l.maxlat=i,p=!p,h)h--;else{if(f===(f=t(l.maxlng-l.minlng,l.maxlat-l.minlat)))break;d.push(o[g]),h=4,g=0}return d.join("")},this.decode=function(u){if(!i.test(u))throw new Error("Geohash.decode: hash must be a geohash string");for(var c=new a,s=90,l=180,d=function(e,t,n){var r=1<<e;!(1&e)^!(1&n)?r&t?c.minlat=c.halfLat():c.maxlat=c.halfLat():r&t?c.minlng=c.halfLng():c.maxlng=c.halfLng()},f=0,p=u.length;f<p;f++){for(var g=o.indexOf(u[f]),h=1&f,m=4;m>=0;m--)d(m,g,h);h?(s/=8,l/=4):(s/=4,l/=8)}var b=n(10,t(1,-e(r(s)/r(10)))-1),v=n(10,t(1,-e(r(l)/r(10)))-1);return[e(c.halfLat()*b)/b,e(c.halfLng()*v)/v]}};e.exports=r},434:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=0;"undefined"!=typeof localStorage&&((r=+localStorage.getItem("GRAYSCALE"))||(r=Math.random(),localStorage.setItem("GRAYSCALE",r)));var o=function(){return r};t.a=function(e,t){return"undefined"==typeof localStorage?Promise.reject():fetch("//shadow.elemecdn.com/crayfish/h5.ele.me/"+e+"?t="+Date.now()).then(function(e){return e.json()}).then(function(e){return e&&r<e[t]?Promise.resolve():Promise.reject()})}},435:function(e,t,n){"use strict";var r=n(37),o=n(1),i=/^(opensite|opensite-vip)\./.test(location.hostname),a=[/\.(eleme|ali)cdn\.com/,/xy-api(\.\w+)?\.ele(net)?\.me/],u=function(e){return!a.some(function(t){return t.test(e)})},c=window.fetch;window.fetch=function(e,t){var n=r.a.get("location");return n&&function(n){var r=n.latitude,o=n.longitude;if(r&&o)if("[object Request]"===e.toString())u(e.url)&&e.headers.append("X-Shard","loc="+o+","+r);else if(u(e)){(t=t||{}).headers=Object.assign({},t.headers);var i=t.headers["X-Shard"];t.headers["X-Shard"]=i?i+";loc="+o+","+r:"loc="+o+","+r}}(n),c(e,t)};var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];return t=Object.assign(t,{headers:r,credentials:t.credentials||function(e){var t="[object Request]"===e.toString()?e.url:e;return u(t)?"include":"omit"}(e)}),e=function(e){return"[object Request]"===e.toString()?/^(https:|http:)?\/\//.test(e)||/^\/pizza/.test(e)||(e.url="/restapi"+e):/^(https:|http:)?\/\//.test(e)||/^\/pizza/.test(e)||(e="/restapi"+e),e}(e),fetch(e,t).then(function(e){return function(e,t){var n=t.needRes,r=e.headers.get("content-type"),o="blob";switch(!0){case/\bjson\b/.test(r):o="json";break;case/\btext\b/.test(r):o="text"}var i=e[o]();return e.ok?n?i.then(function(t){return{result:t,res:e}}):i:i.then(function(t){return Promise.reject(n?{result:t,res:e}:t)})}(e,{needRes:n.needRes})}).catch(function(e){throw e&&e.message&&!/[\u4e00-\u9fa5]/g.test(e.message)&&(e.originalMsg=e.message,e.message="服务器异常，请稍后再试"),e})};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null===t&&(t={});var r=function(){},a=t.timeout||1e4,u=new Promise(function(e,t){r=function(){return t({name:"HTTP_TIMEOUT",message:"请求超时，请重试"})}}),c=Promise.race([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},t.headers);return n.orderId&&(r["X-Shard"]="eosid="+n.orderId),n.shopId&&(r["X-Shard"]="shopid="+n.shopId),i&&t.method&&"get"!==t.method.toLocaleLowerCase()&&(r["Content-Type"]="application/json"),o.k.isAliMiniApp&&(e+=(~e.indexOf("?")?"&":"?")+"isAliMiniApp=1"),n.needSign&&o.k.isEleme&&!window.Utils.compareVersion("8.2.0")&&window.hybridAPI?window.hybridAPI.signUrl("/restapi"+e).then(function(o){return Object.assign(r,o),s(e,t,n,r)}):s(e,t,n,r)}(e,t,n),u]);c.abort=r;var l=setTimeout(function(){r(),clearTimeout(l),l=null},a);return c}},436:function(e,t,n){"use strict";var r=n(1),o=window.crayfish||{},i={headers:{"content-type":"application/json; charset=utf-8"},credentials:"include",method:"POST"};t.a={getWifiSignature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.a)("//waltz.ele.me/wifi/jssign?url="+e.split("#")[0])},getWifikeyCode:function(){return o.wifiAuth?new Promise(function(e,t){wk.ready(function(){wk.authorize({scope:"phone",success:e,cancel:function(){t("cancel")},fail:t})})}):Promise.reject()},login:function(){return r.o.userId?Promise.resolve(r.o.userId):this.getWifikeyCode().then(function(e){var t=e.code;return Object(r.a)("/eus/login/opensite_login",babelHelpers.extends({},i,{body:JSON.stringify({code:t,source:"wifi"})})).then(function(e){return r.o.set("wifikey_user_info",{phone:e.suggest_mobile}),"success"===e.login_status?e:Promise.reject(e)})})},loginMobile:function(e,t){return Object(r.a)("/eus/login/opensite_login/by_mobile",babelHelpers.extends({},i,{body:JSON.stringify(babelHelpers.extends({code:t,source:"wifi"},e))}))}}},437:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var r=n(236),o=n.n(r),i=navigator.userAgent,a="opensite_source",u="openchannel_type",c=o()(),s={};function l(){var e=sessionStorage.getItem(a);if(e)return e;c[a]&&(e=c[a]);var t=Object.keys(s).filter(function(e){return s[e].test(i)})[0];return t&&(e=t),e&&sessionStorage.setItem(a,e),e}function d(){var e=sessionStorage.getItem(u);return e||(c.jwt?(e="jwt",c.jwt&&sessionStorage.setItem("openchannel_jwt",c.jwt)):e=l()?"backend":"default",sessionStorage.setItem(u,e),e)}},44:function(e,t,n){"use strict";t.a=function(){Object(o.b)()};var r=n(972),o=n(437);n.d(t,"d",function(){return r.a}),n.d(t,"e",function(){return r.b}),n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return o.b})},72:function(e,t,n){"use strict";var r=n(436),o=n(971);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return o.a})},949:function(e,t,n){e.exports=n(950)},950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(951),o=(n.n(r),n(952)),i=(n.n(o),n(953)),a=(n.n(i),n(954)),u=(n.n(a),n(955)),c=(n.n(u),n(956)),s=(n.n(c),n(957)),l=(n.n(s),n(958)),d=(n.n(l),n(433)),f=n.n(d),p=n(236),g=n.n(p),h=n(125),m=n.n(h),b=(n(961),n(970)),v=n(35),y=n(1),w=n(72),_=n(44);n.d(t,"geohash",function(){return f.a}),window.Geohash=f.a,window.UParams=g.a,window.Utils=m.a,Object(_.a)(),y.k.isEleme&&window.hybridAPI&&(m.a.getGeohash().then(function(e){return y.o.setLocation(e)}).catch(function(){}),hybridAPI.setBounces(!1));var P=UParams();if(P.from&&b.a.init(P.from),y.k.isAlipay&&document.addEventListener("DOMContentLoaded",function(){v.a.checkNewUser()}),y.k.isWifikey&&w.b.init(),function(){if(!/iPhone/i.test(window.navigator.userAgent))return!1;var e=window.screen||{};return 812===e.height&&375===e.width}()&&document.body.classList.add("iPhoneXMode"),y.k.isIOS&&document.addEventListener("blur",function(e){["input","textarea"].includes(e.target.localName)&&document.body.scrollIntoView(!1)},!0),"Perf"in window&&y.k.isEleme&&y.k.isAndroid&&(localStorage.removeItem("DETECTED_UA"),!localStorage.getItem("DETECTED_UA_2"))){var S=0;switch(!0){case y.k.isUC:S=1;break;case y.k.isX5:S=2}Perf.count({id:"U4_2.0",value:S}),localStorage.setItem("DETECTED_UA_2",1)}"ucweb"in window&&"Perf"in window&&window.ucweb.window.addEventListener("BacktracePaintReady",function(){if(window&&window.ucweb){var e=window.ucweb.window.performance,t=e.t0,n=e.t1,r=e.t2,o={type:"track-timing",sdkVer:"2.0.0-beta13",appName:(window.ElemePerfConfigs||{}).appName||"",data:{t0:t,t1:n,t2:r}},i=new Blob([JSON.stringify(o,null,2)],{type:"application/json"});navigator.sendBeacon("https://perf.ele.me/log",i)}},!1)},951:function(module,exports,__webpack_require__){(function(global){var babelHelpers={};Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,u=r(n.length),c=t(this)?Object(new this(u)):new Array(u),s=0;s<u;)a=n[s],c[s]=i?void 0===o?i(a,s):i.call(o,a,s):a,s+=1;return c.length=u,c}}()),babelHelpers.typeof="function"===eval("typeof Symbol")&&"symbol"===eval("typeof Symbol.iterator")?function(obj){return eval("typeof obj")}:function(obj){return obj&&"function"===eval("typeof Symbol")&&obj.constructor===Symbol?"symbol":eval("typeof obj")},babelHelpers.jsx=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),s=0;s<a;s++)c[s]=arguments[s+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),babelHelpers.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){return r("next",e)},function(e){return r("throw",e)});e(u)}("next")})}},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),babelHelpers.defineEnumerableProperties=function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},babelHelpers.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e},babelHelpers.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},babelHelpers.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},babelHelpers.get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":babelHelpers.typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},babelHelpers.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},babelHelpers.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},babelHelpers.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},babelHelpers.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},babelHelpers.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))&&"function"!=typeof t?e:t},babelHelpers.selfGlobal=void 0===global?self:global,babelHelpers.set=function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var u=i.set;void 0!==u&&u.call(o,r)}return r},babelHelpers.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),babelHelpers.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},babelHelpers.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},babelHelpers.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},babelHelpers.temporalRef=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},babelHelpers.temporalUndefined={},babelHelpers.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},babelHelpers.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Object.assign||(Object.assign=babelHelpers.extends),"undefined"==typeof window?global.babelHelpers=babelHelpers:window.babelHelpers=babelHelpers}).call(exports,__webpack_require__(235))},952:function(e,t){try{"object"!==("undefined"==typeof localStorage?"undefined":babelHelpers.typeof(localStorage))&&(localStorage={})}catch(e){setTimeout(function(){throw e})}!function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{localStorage.setItem(e,e),e===localStorage.getItem(e)&&localStorage.removeItem(e)}catch(r){if(!localStorage)return;var t={},n=e;localStorage.setItem=function(e,r){t[n+e]=r+""},localStorage.getItem=function(e){return n+e in t?t[n+e]:null},localStorage.removeItem=function(e){delete t[n+e]},localStorage.clear=function(){t={}}}}(),function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{sessionStorage.setItem(e,e),e===sessionStorage.getItem(e)&&sessionStorage.removeItem(e)}catch(r){if(!sessionStorage)return;var t={},n=e;sessionStorage.setItem=function(e,r){t[n+e]=r+""},sessionStorage.getItem=function(e){return n+e in t?t[n+e]:null},sessionStorage.removeItem=function(e){delete t[n+e]},sessionStorage.clear=function(){t={}}}}(),function(){var e=Date.parse;Date.parse=function(t){var n=String(t).match(/^(\d+)-(\d+)-(\d+)T(\d+):(\d+)(?::(\d+)(?:\.(\d\d\d))?)?(z|[+-]\d\d:?\d\d)$/i);if(n){var r=n[8].match(/\d\d/g)||[];return r[0]=0|r[0],r[1]=0|r[1],"-"===n[8].charAt(0)&&(r[0]=-r[0],r[1]=-r[1]),Date.UTC(n[1],n[2]-1,n[3],n[4]-r[0],n[5]-r[1],0|n[6],0|n[7])}return e.apply(this,arguments)}}()},953:function(e,t,n){"use strict";Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}}},954:function(e,t){Promise.prototype.always=function(e){return this.then(e,e)}},955:function(e,t){},956:function(e,t){},957:function(e,t){},958:function(e,t){},959:function(e,t){(function(t){e.exports=t}).call(t,{})},960:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},961:function(e,t,n){"use strict";var r=n(434),o=n(1),i=/sw_debug/.test(location.href),a=o.k.isAlipay||o.k.isWifikey,u=function(){window.addEventListener("beforeinstallprompt",function(e){Perf.count({id:"sw-install",value:0}),e.userChoice.then(function(e){Perf.count({id:"sw-install",value:"accepted"===e.outcome?1:2})})});var e="/sw.js?debug="+i+"&APP="+o.k.isEleme;a&&(e+="&is_white="+a),navigator.serviceWorker.register(e)},c=+(navigator.userAgent.match(/Chrome\/(\d+)\./i)||[])[1]||0,s=+(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]||0;(!!i||!a&&"serviceWorker"in navigator&&(c>=57||s>=604))&&fetch("//shadow.elemecdn.com/crayfish/h5.ele.me/service-worker").then(function(e){return e.json()}).then(function(e){return e.downgrade?function(){var e=navigator.serviceWorker;e&&(e.getRegistrations?e.getRegistrations().then(function(e){e.forEach(function(e){e.unregister()})}):e.getRegistration&&e.getRegistration().then(function(e){e&&e.unregister()}))}():Object(r.a)("service-worker","grayscale")}).then(u)},962:function(e,t,n){"use strict";var r=n(435),o=n(37),i=n(1),a=function(e){return"number"==typeof e&&e>0};t.a={userId:function(){return new Promise(function(e,t){var n=o.a.userId;return a(n)&&e(n),Object(r.a)("/eus/v1/current_user?info_raw={}").then(function(r){o.a.setUserId(r),a(n)&&r!==n&&location.reload(),a(r)?e(r):(t({name:"HTTP_UNAUTHORIZED",message:"未登录"}),o.a.setUser())}).catch(function(e){return t(e)})})},userBasic:function(){return this.userId().then(function(e){return Object(r.a)("/eus/v2/users/"+e)})},reverseGeoCoding:function(e){var t=e.latitude,n=e.longitude;return Object(r.a)("/bgs/poi/reverse_geo_coding?latitude="+t+"&longitude="+n)},geoHierarchy:function(e){var t=e.latitude,n=e.longitude;return Object(r.a)("/bgs/geo/hierarchy?latitude="+t+"&longitude="+n)},getTerminal:function(){if(i.k.isAlipay)return"alipay";if(i.k.isTaobao)return"taobao";var e=localStorage.getItem("SUB_CHANNEL");return/^opensite:/.test(e)?e:"h5"}}},963:function(e,t,n){"use strict";n(1)},964:function(e,t,n){"use strict";t.a=function(e,t){var n={success:e};e||(n.error={message:"object"===(void 0===t?"undefined":babelHelpers.typeof(t))?JSON.stringify(t):t}),window.perf&&window.perf.sendRawEvent("page_success",n)}},965:function(e,t,n){"use strict";var r=n(37);location.pathname.replace(/\//g,"")},966:function(e,t,n){"use strict";var r=n(1),o=~["h5.ele.me","h5.eleme.cn"].indexOf(location.host),i=[/WeixinJSBridge/i];t.a=function(e){var t=e.id,n=e.token,a=e.ignoreErrors,u=void 0===a?[]:a,c=e.includePaths,s=void 0===c?[]:c;if(o){if(!t)throw new Error("id 不能为空");if(Raven){u.push.apply(u,i);var l={ignoreErrors:u,includePaths:s};l.release="060d78d0c5528dce04660d49b03672d90e781c7b";var d=Raven.config("//"+n+"@perf.ele.me/sentry//"+t,l);!function(e){var t=localStorage.getItem("STORE");try{var n=JSON.parse(t);t={userId:n.userId,location:n.location}}catch(e){t=null}t&&e.setUserContext(t)}(d),function(e){var t={},n=navigator.userAgent;switch(!0){case r.k.isEleme:t.app="eleme",t.version=n.match(/Eleme\/((\d+\.*)+)|$/i)[1]||"unknown";break;case r.k.isKb:t.app="kb",t.version=n.match(/KoubeiClient\/((\d+\.*)+)|$/i)[1]||"unknown";break;case r.k.isAlipay:t.app="alipay",t.version=n.match(/AlipayClient\/((\d+\.*)+)|$/i)[1]||"unknown"}t.app&&(window.ElemePerfConfigs.from=t.app,e.setTagsContext(t))}(d),d.addPlugin(Raven.Plugins.Vue,Vue),d.install()}}else console.warn("只允许在生产域名上启用，当前域名："+location.host)}},967:function(e,t,n){"use strict";window.Perf=window.Perf||{count:function(){},timing:function(){}},t.a=Perf},968:function(e,t,n){"use strict";var r=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),o=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return window.hybridAPI?new Promise(function(t,n){hybridAPI.getSyncLocation().then(function(e){t({latitude:e.locLat,longitude:e.locLng})}),setTimeout(n,e)}):Promise.reject({name:"HYBRIDAPI_NOT_DEFINED"})}(2*e/3).catch(function(){return t?Promise.reject():getNavigatorHash(1*e/3)})};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return/Eleme/i.test(navigator.userAgent)?o(e,t):/AlipayClient/.test(navigator.userAgent)?window.ap?ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:r?"iOS-ele-position":"Android-ele-position"}):Promise.reject():/wkbrowser|WiFiKey|ZeusPro/i.test(navigator.userAgent)?window.wk?new Promise(function(e,t){wk.ready(function(){wk.getLocation({type:"wgs84",success:e,fail:t})}),wk.error(t)}):Promise.reject():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return navigator.geolocation?new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),t(e.coords)},n,{timeout:e,maximumAge:6e5}),setTimeout(n,e)}):Promise.reject()}(e)}},969:function(e,t,n){"use strict";var r=/^eleme:$/,o=/\.(eleme\.cn|ele\.me|elenet\.me)$/;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=document.createElement("a");return n.href=e,r.test(n.protocol)||o.test(n.hostname)?e:t}},970:function(e,t,n){"use strict";var r=n(1),o=(window.crayfish||{}).fromPay||{},i=Object.keys(o).map(function(e){return o[e]}),a={},u={},c=(window.crayfish||{}).fromOpen||{};Object.keys(c).forEach(function(e){var t=c[e]||{};Object.assign(a,t),u["opensite:"+e]=Object.keys(t).map(function(e){return t[e]})});var s=babelHelpers.extends({},o,a,{koubei:0,zhifubao:1,kb_shop:2,cardquan:3,cardwei:4,kb_hongbao:5,shenghuohao:6,kb_rebuy:7,kb_order:8,kb_ordershop:9,entrycard:10,kb_app:21,coupon_wall:42,pay_vipshop:19,pay_hui:22,pay_living:24,pay_huipay:35,scan_bd:40,sp_huabei:43,pay_great:46,aliday_changwei:48,daililaxin:49,kb_app_shop:101,kb_recommend_shop:102,kb_app_recommend_shop:103,istore:104}),l=babelHelpers.extends({"koubei:app":[21,42,101,103],"alipay:koubei":[0,2,5,7,8,9,102],"alipay:zhifubao":[1,3,4,6,10,19,22,24,35,40,43,46,48,49].concat(babelHelpers.toConsumableArray(i)),"alipay:istore":[104]},u);t.a={init:function(e){var t=s[e];void 0!==t?(window.UBT.send("EVENT",{id:101152,params:{type:t}}),this._setSubChannel(t)):r.k.isAlipay||localStorage.setItem("SUB_CHANNEL",e),r.k.isAlipay&&ap.setSessionData({data:{subChannelFrom:e}})},_setSubChannel:function(e){var t="";Object.keys(l).some(function(n){if(-1!==l[n].indexOf(e))return t=n,!0}),t&&localStorage.setItem("SUB_CHANNEL",t)}}},971:function(e,t,n){"use strict";var r=n(436);t.a={init:function(){return r.a.getWifiSignature(window.location.href).then(function(e){var t=e.timestamp,n=e.nonceStr,r=e.signature;wk.config({debug:!1,appid:"fwh0f75a1de8dbf7",timestamp:t,nonceStr:n,signature:r,jsApiList:["authorize","getLocation","onMenuShare"]})})}}},972:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return b});var r=n(236),o=n.n(r),i=n(1),a=n(973),u=n(437),c=Object(u.b)(),s=Object(u.a)(),l=o()().code,d=o()().state,f={error:{name:"error"},needAuth:{name:"needAuth"},noBind:{name:"noBind"}};function p(e,t){var n=/eleme/.test(location.hostname)?".eleme.cn":".ele.me",r=new Date;r.setMonth(r.getMonth()+1),document.cookie=e+"="+t+"; expires="+r.toUTCString()+"; Domain="+n+"; Path=/"}function g(){window.location.href="/login/#redirect="+encodeURIComponent(window.location.href)}function h(e){var t=sessionStorage.getItem("openchannel_jwt");return{state:d,code:l,source:s,jwt:t,next_url:e}}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i.k.isAlipay||!s)return Promise.reject(f.error);var t=localStorage.getItem("OPENSITE_UID");if(t&&p("opensite_openid",t),i.o.userId&&t)return Promise.resolve(i.o.userId);var n=h(window.location.href);if("default"!==c)return a.a.openchannelLogin(n).then(function(t){return/^\d{11}$/.test(t.suggest_mobile)&&i.o.set("opensite_user_info",{phone:t.suggest_mobile}),"success"===t.login_status?(t.openid&&(localStorage.setItem("OPENSITE_UID",t.openid),p("opensite_openid",t.openid)),i.d.userId()):"oauth"===t.login_type&&t.auth_url?(window.location.href=t.auth_url,Promise.reject(f.needAuth)):t.need_login_by_mobile&&!e?(g(),Promise.reject(f.noBind)):Promise.reject(f.error)});e||g()}function b(e){var t=e.validate_code,n=e.validate_token;return i.k.isAlipay||!s?Promise.reject(f.error):a.a.openchannelLoginMobile(babelHelpers.extends({validate_code:t,validate_token:n},h())).then(function(e){return e&&e.openid&&(localStorage.setItem("OPENSITE_UID",e.openid),p("opensite_openid",e.openid)),e})}},973:function(e,t,n){"use strict";var r=n(1),o={headers:{"content-type":"application/json; charset=utf-8"},credentials:"include",method:"POST"};t.a={openchannelLogin:function(e){return Object(r.a)("/eus/login/opensite_login",babelHelpers.extends({},o,{body:JSON.stringify(e)}))},openchannelLoginMobile:function(e){return Object(r.a)("/eus/login/opensite_login/by_mobile",babelHelpers.extends({},o,{body:JSON.stringify(e)}))}}}});
//# sourceMappingURL=https://pages.elenet.me/perf-sentry-sourcemaps/h5/1555657486353/vendor.bf907d0.js.map